
<% if @recipe.errors.any? %>
  <%= @recipe.errors.full_messages.inspect %>
<% end %>

<%= form_for @recipe do |f| %>

  <%= f.hidden_field :user_id, value: current_user.id %>

  <%= f.label :name %>
  <%= f.text_field :name %>

  <br>
  <%= f.label :description %>
  <%= f.text_area :description, rows: 15, cols: 40 %>
  <br>

  <%= f.submit %>
<% end %>

<hr>
<h3>Add Ingredients<h3>
<% if @recipe.persisted? %>
  <%= form_for :recipe_ingredient, url: add_ingredient_recipe_path(@recipe) do |form| %>
    <%= form.hidden_field :recipe_id, value: @recipe.id %>
    <%= form.collection_select :ingredient_id, Ingredient.all, :id, :name %>
    <br>
    <%= form.label :quantity %>
    <%= form.text_field :quantity %>
    <br>
    <%= form.submit %>
  <% end %>
<% end %>

<p><% @recipe.recipe_ingredients.each do |ingredient| %>
  - <%= ingredient.quantity %>
  <%= ingredient.name %>
  <%= link_to 'Remove Ingredient', remove_recipe_ingredient_path(id: @recipe.id, recipe_ingredient_id: ingredient.id), method: :delete %>
  <br>
<% end %>
<p>



<hr>
<%= link_to 'Back', recipes_path %>
<hr>
